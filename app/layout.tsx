'use client';
import Link from 'next/link';
import { Providers } from './providers';
import '../styles/globals.css';
import { usePathname } from 'next/navigation';
import { TailwindIndicator } from 'components/tailwind-indicator';

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  const pathname = usePathname();
  return (
    <html>
      <head>
        <title>KISK Scrapbook</title>
        <meta charSet="utf-8" />
        <meta name="viewport" content="initial-scale=1.0, width=device-width" />
      </head>
      <body className="bg-background px-4 md:px-6 lg:px-8">
        <header>
          <nav className="flex w-full justify-between items-center h-16">
            <div className="flex items-center">
              <Link
                className={`text-muted mr-3 md:inline-flex ${
                  pathname === '/' ? 'inline-flex' : 'hidden'
                }`}
                href="https://kisk.phil.muni.cz/"
                target="_blank"
              >
                <svg
                  viewBox="0 0 242 43"
                  className="fill-muted stroke-muted h-8 hover:fill-purple hover:stroke-purple "
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M232.356 1.207H184.541C180.01 1.207 176.326 4.89 176.326 9.42V34.041C176.326 38.571 180.01 42.257 184.541 42.257H232.356C236.882 42.257 240.567 38.571 240.567 34.041V9.42C240.567 4.89 236.883 1.207 232.356 1.207ZM238.221 34.041C238.221 37.279 235.59 39.909 232.357 39.909H184.542C181.305 39.909 178.674 37.279 178.674 34.041V9.42C178.674 6.186 181.305 3.553 184.542 3.553H232.357C235.59 3.553 238.221 6.186 238.221 9.42V34.041ZM230.067 10.655C229.42 10.655 228.893 11.181 228.893 11.828V23.64C228.893 26.874 226.262 29.508 223.027 29.508H217.94V26.841C217.94 26.633 217.826 26.437 217.646 26.334C217.464 26.227 217.241 26.227 217.057 26.334L210.408 30.172C210.226 30.277 210.113 30.472 210.113 30.681C210.113 30.892 210.226 31.085 210.408 31.187L217.057 35.03C217.149 35.081 217.249 35.108 217.35 35.108C217.451 35.108 217.556 35.081 217.646 35.03C217.826 34.925 217.94 34.73 217.94 34.519V31.852H223.027C227.557 31.852 231.242 28.168 231.242 23.64V11.828C231.242 11.182 230.716 10.655 230.067 10.655ZM33.733 1.207H9.11C4.581 1.207 0.897003 4.89 0.897003 9.42V34.041C0.897003 38.571 4.581 42.257 9.11 42.257H33.733C38.261 42.257 41.944 38.571 41.944 34.041V9.42C41.944 4.89 38.262 1.207 33.733 1.207ZM39.6 34.041C39.6 37.279 36.969 39.91 33.734 39.91H9.11C5.876 39.91 3.244 37.279 3.244 34.041V9.42C3.244 6.186 5.876 3.553 9.11 3.553H33.733C36.968 3.553 39.599 6.186 39.599 9.42L39.6 34.041ZM77.587 1.207H52.965C48.437 1.207 44.753 4.89 44.753 9.42V34.041C44.753 38.571 48.437 42.257 52.965 42.257H77.587C82.117 42.257 85.801 38.571 85.801 34.041V9.42C85.801 4.89 82.117 1.207 77.587 1.207ZM83.454 34.041C83.454 37.279 80.821 39.91 77.587 39.91H52.965C49.731 39.91 47.099 37.279 47.099 34.041V9.42C47.099 6.186 49.731 3.553 52.965 3.553H77.587C80.821 3.553 83.454 6.186 83.454 9.42V34.041ZM121.442 1.207H96.821C92.292 1.207 88.606 4.89 88.606 9.42V34.041C88.606 38.571 92.292 42.257 96.821 42.257H121.442C125.97 42.257 129.655 38.571 129.655 34.041V9.42C129.655 4.89 125.971 1.207 121.442 1.207ZM127.311 34.041C127.311 37.279 124.677 39.91 121.443 39.91H96.822C93.587 39.91 90.954 37.279 90.954 34.041V9.42C90.954 6.186 93.587 3.553 96.822 3.553H121.443C124.677 3.553 127.311 6.186 127.311 9.42V34.041ZM165.297 1.207H140.676C136.147 1.207 132.46 4.89 132.46 9.42V34.041C132.46 38.571 136.147 42.257 140.676 42.257H165.297C169.825 42.257 173.51 38.571 173.51 34.041V9.42C173.51 4.89 169.825 1.207 165.297 1.207ZM171.163 34.041C171.163 37.279 168.531 39.91 165.297 39.91H140.676C137.441 39.91 134.808 37.279 134.808 34.041V9.42C134.808 6.186 137.441 3.553 140.676 3.553H165.297C168.531 3.553 171.163 6.186 171.163 9.42V34.041ZM22.738 23.689L25.439 20.907C25.867 20.425 25.867 19.677 25.439 19.222C24.877 18.661 23.995 18.715 23.487 19.25C22.175 20.586 20.866 21.978 19.555 23.341V13.845C19.555 13.204 18.94 12.667 18.191 12.667C17.44 12.667 16.826 13.204 16.826 13.845V30.482C16.826 31.176 17.44 31.712 18.191 31.712C18.94 31.712 19.555 31.175 19.555 30.482V26.711C19.555 26.711 19.581 26.711 20.758 25.48L23.647 31.071C23.863 31.471 24.369 31.713 24.876 31.713C25.894 31.713 26.48 30.695 26.053 29.894L22.738 23.689ZM65.211 13.124C62.857 13.124 62.857 16.468 65.211 16.468C67.617 16.468 67.565 13.124 65.211 13.124ZM65.264 18.875C64.49 18.875 63.873 19.41 63.873 20.104V30.483C63.873 31.177 64.489 31.713 65.264 31.713C65.988 31.713 66.602 31.176 66.602 30.483V20.104C66.602 19.411 65.987 18.875 65.264 18.875ZM107.822 23.558C107.153 23.236 106.968 22.888 106.968 22.461C106.968 21.471 108.01 21.203 108.678 21.203C109.589 21.203 110.284 21.443 110.498 22.165C110.953 23.772 113.814 22.808 112.745 20.855C112.021 19.544 110.498 18.875 108.678 18.875C106.192 18.875 104.319 20.425 104.319 22.46C104.319 24.358 105.657 25.241 106.647 25.721C107.769 26.284 110.739 26.577 110.739 28.023C110.739 28.877 110.096 29.494 109.055 29.494C108.038 29.494 107.102 29.174 106.647 28.13C105.924 26.687 103.463 27.756 104.24 29.199C105.202 31.233 106.781 31.821 109.135 31.821C111.327 31.821 113.495 30.512 113.495 28.024C113.494 24.92 109.91 24.517 107.822 23.558ZM154.389 23.689L157.089 20.907C157.52 20.425 157.52 19.677 157.089 19.222C156.527 18.661 155.645 18.715 155.135 19.25C153.828 20.586 152.515 21.978 151.204 23.341V13.845C151.204 13.204 150.59 12.667 149.841 12.667C149.094 12.667 148.477 13.204 148.477 13.845V30.482C148.477 31.176 149.094 31.712 149.841 31.712C150.59 31.712 151.204 31.175 151.204 30.482V26.711C151.204 26.711 151.231 26.711 152.408 25.48L155.296 31.071C155.51 31.471 156.017 31.713 156.527 31.713C157.545 31.713 158.131 30.695 157.704 29.894L154.389 23.689Z"
                    fill="currentFill"
                    stroke="currentStroke"
                    strokeWidth="1"
                  />
                </svg>
              </Link>
              {pathname !== '/' && (
                <Link
                  className="text-xl pt-px uppercase text-muted hover:text-cyan font-bold"
                  href="/"
                >
                  Scrapbook
                </Link>
              )}
            </div>
            <div className="flex items-baseline space-x-6">
              <Link
                className="text-muted hover:text-cyan hover:text-gray relative md:flex justify-center text-base font space-x-6"
                href="/about"
              >
                O Scrapbooku
              </Link>
              <Link
                className="text-muted hover:text-cyan hover:text-gray relative md:flex justify-center text-base font space-x-6"
                href="/students"
              >
                Studenti
              </Link>
              {['/', '/about'].includes(pathname) && (
                <Link
                  className="bg-muted hidden sm:inline text-background hover:bg-purple rounded-full font-semibold px-4 pt-1 pb-0.5 uppercase relative md:flex justify-center text-base font"
                  href="/add-portfolio"
                >
                  PÅ™ipojit portfolio
                </Link>
              )}
            </div>
          </nav>
        </header>
        <main>
          <Providers>{children}</Providers>
          <TailwindIndicator />
        </main>
      </body>
    </html>
  );
}
